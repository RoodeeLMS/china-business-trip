<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>China Trip Map - Amap È´òÂæ∑Âú∞Âõæ</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        #map {
            height: 100vh;
            width: 100%;
        }
        .info-panel {
            position: absolute;
            top: 20px;
            left: 20px;
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            max-width: 350px;
            z-index: 1000;
        }
        .info-panel h2 {
            margin: 0 0 15px 0;
            font-size: 18px;
            color: #00A870;
        }
        .location-item {
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #e0e0e0;
            cursor: pointer;
            transition: background 0.2s;
            padding: 8px;
            border-radius: 6px;
        }
        .location-item:hover {
            background: #f5f5f5;
        }
        .location-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        .location-name {
            font-weight: 600;
            color: #202124;
            margin-bottom: 4px;
        }
        .location-address {
            font-size: 13px;
            color: #5f6368;
            line-height: 1.4;
        }
        .location-chinese {
            font-size: 12px;
            color: #00A870;
            margin-top: 2px;
        }
        .legend {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid #e0e0e0;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 13px;
        }
        .legend-marker {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .airport { background-color: #ea4335; }
        .hotel { background-color: #fbbc04; }
        .factory { background-color: #34a853; }
        .powered-by {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #e0e0e0;
            font-size: 11px;
            color: #999;
            text-align: center;
        }
        .amap-logo {
            color: #00A870;
            font-weight: bold;
        }
        
        /* Amap Info Window Styles */
        .amap-info-window {
            background: white;
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            max-width: 280px;
        }
        .amap-info-title {
            font-size: 16px;
            font-weight: 600;
            color: #00A870;
            margin-bottom: 6px;
        }
        .amap-info-address {
            font-size: 13px;
            color: #666;
            margin-bottom: 6px;
            line-height: 1.4;
        }
        .amap-info-chinese {
            font-size: 12px;
            color: #999;
            margin-bottom: 6px;
        }
        .amap-info-desc {
            font-size: 12px;
            color: #00A870;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="info-panel">
        <h2>üìç MRT Orange Line FAT - China Trip</h2>
        <div class="location-item" onclick="focusLocation(0)">
            <div class="location-name">üè≠ Zhejiang Rongchen Technology</div>
            <div class="location-chinese">ÊµôÊ±üËç£Êô®ÁßëÊäÄÊúâÈôêÂÖ¨Âè∏</div>
            <div class="location-address">No. 735 Yintan Road, Haiyan County, Jiaxing</div>
        </div>
        <div class="location-item" onclick="focusLocation(1)">
            <div class="location-name">üè® Courtyard by Marriott Pinghu</div>
            <div class="location-chinese">Âπ≥Êπñ‰∏áË±™ÈÖíÂ∫ó</div>
            <div class="location-address">No.288, Wenwei Road, Pinghu</div>
        </div>
        <div class="location-item" onclick="focusLocation(2)">
            <div class="location-name">üè® Pullman Jiaxing Pinghu</div>
            <div class="location-chinese">Âπ≥ÊπñÈìÇÂ∞îÊõºÈÖíÂ∫ó</div>
            <div class="location-address">No 777 Fenshou Road, Pinghu</div>
        </div>
        <div class="location-item" onclick="focusLocation(3)">
            <div class="location-name">‚úàÔ∏è Shanghai Pudong Airport (PVG)</div>
            <div class="location-chinese">‰∏äÊµ∑Êµ¶‰∏úÂõΩÈôÖÊú∫Âú∫</div>
            <div class="location-address">Terminal 2, Shanghai</div>
        </div>
        <div class="legend">
            <div class="legend-item">
                <span class="legend-marker factory"></span>
                <span>Factory/Test Site Â∑•ÂéÇ</span>
            </div>
            <div class="legend-item">
                <span class="legend-marker hotel"></span>
                <span>Hotels ÈÖíÂ∫ó</span>
            </div>
            <div class="legend-item">
                <span class="legend-marker airport"></span>
                <span>Airport Êú∫Âú∫</span>
            </div>
        </div>
        <div class="powered-by">
            Powered by <span class="amap-logo">Amap È´òÂæ∑Âú∞Âõæ</span><br>
            Works in China üá®üá≥
        </div>
    </div>
    <div id="map"></div>

    <script type="text/javascript" src="https://webapi.amap.com/maps?v=2.0&key=YOUR_AMAP_KEY"></script>
    <script>
        let map;
        let markers = [];
        let infoWindows = [];

        // Location data
        const locations = [
            {
                name: 'Zhejiang Rongchen Technology Co., Ltd.',
                nameChinese: 'ÊµôÊ±üËç£Êô®ÁßëÊäÄÊúâÈôêÂÖ¨Âè∏',
                address: 'No. 735 Yintan Road, Economic Development Zone, Xitangqiao Town, Haiyan County, Jiaxing City, Zhejiang Province',
                addressChinese: 'ÊµôÊ±üÁúÅÂòâÂÖ¥Â∏ÇÊµ∑ÁõêÂéøË•øÂ°òÊ°•ÈïáÁªèÊµéÂºÄÂèëÂå∫Èì∂Êª©Ë∑Ø735Âè∑',
                position: [120.9200, 30.4850], // [lng, lat] for Amap
                type: 'factory',
                color: '#34a853',
                description: 'Main test facility for FHPSD & HHPSD | FT7100, FT7300, FT3000'
            },
            {
                name: 'Courtyard by Marriott Pinghu',
                nameChinese: 'Âπ≥Êπñ‰∏áË±™ÈÖíÂ∫ó',
                address: 'No.288, Wenwei Road, Pinghu, Zhejiang, China',
                addressChinese: 'ÊµôÊ±üÁúÅÂòâÂÖ¥Â∏ÇÂπ≥ÊπñÂ∏ÇÊñáÂç´Ë∑Ø288Âè∑',
                position: [121.0147, 30.6965],
                type: 'hotel',
                color: '#fbbc04',
                description: 'Recommended accommodation option 1'
            },
            {
                name: 'Pullman Jiaxing Pinghu Excellence',
                nameChinese: 'Âπ≥ÊπñÈìÇÂ∞îÊõºÈÖíÂ∫ó',
                address: 'No 777 Fenshou Road, Pinghu City, Zhejiang',
                addressChinese: 'ÊµôÊ±üÁúÅÂòâÂÖ¥Â∏ÇÂπ≥ÊπñÂ∏Ç‰∏∞Êî∂Ë∑Ø777Âè∑',
                position: [121.0245, 30.6905],
                type: 'hotel',
                color: '#fbbc04',
                description: 'Recommended accommodation option 2'
            },
            {
                name: 'Shanghai Pudong International Airport (PVG)',
                nameChinese: '‰∏äÊµ∑Êµ¶‰∏úÂõΩÈôÖÊú∫Âú∫',
                address: 'Terminal 2, Shanghai, China',
                addressChinese: '‰∏äÊµ∑Â∏ÇÊµ¶‰∏úÂõΩÈôÖÊú∫Âú∫2Âè∑Ëà™Á´ôÊ•º',
                position: [121.8083, 31.1443],
                type: 'airport',
                color: '#ea4335',
                description: 'Arrival: TG662 (Nov 10, 01:10) | Departure: TG665 (Nov 14, 17:20)'
            }
        ];

        function initMap() {
            // Initialize Amap
            map = new AMap.Map('map', {
                zoom: 9,
                center: [121.05, 30.7], // Center on Jiaxing area [lng, lat]
                mapStyle: 'amap://styles/normal',
                viewMode: '2D',
                lang: 'en' // Can be 'zh_cn' for Chinese
            });

            // Add markers for each location
            locations.forEach((location, index) => {
                // Create custom marker icon
                const icon = new AMap.Icon({
                    size: new AMap.Size(32, 32),
                    image: getMarkerIcon(location.color),
                    imageSize: new AMap.Size(32, 32)
                });

                // Create marker
                const marker = new AMap.Marker({
                    position: location.position,
                    icon: icon,
                    title: location.name,
                    map: map,
                    animation: 'AMAP_ANIMATION_DROP'
                });

                // Create info window content
                const infoContent = `
                    <div class="amap-info-window">
                        <div class="amap-info-title">${location.name}</div>
                        <div class="amap-info-chinese">${location.nameChinese}</div>
                        <div class="amap-info-address">${location.address}</div>
                        <div class="amap-info-desc">${location.description}</div>
                    </div>
                `;

                // Create info window
                const infoWindow = new AMap.InfoWindow({
                    content: infoContent,
                    offset: new AMap.Pixel(0, -30)
                });

                // Add click event to marker
                marker.on('click', function() {
                    // Close all other info windows
                    infoWindows.forEach(iw => iw.close());
                    infoWindow.open(map, marker.getPosition());
                });

                markers.push(marker);
                infoWindows.push(infoWindow);
            });

            // Draw route path: Airport -> Hotel -> Factory
            const routePath = new AMap.Polyline({
                path: [
                    locations[3].position, // Airport
                    locations[1].position, // Marriott Hotel
                    locations[0].position  // Factory
                ],
                strokeColor: '#00A870',
                strokeWeight: 4,
                strokeOpacity: 0.7,
                strokeStyle: 'solid',
                showDir: true,
                dirColor: '#00A870'
            });
            map.add(routePath);

            // Alternative route: Airport -> Pullman Hotel -> Factory (dashed)
            const alternateRoute = new AMap.Polyline({
                path: [
                    locations[3].position, // Airport
                    locations[2].position, // Pullman Hotel
                    locations[0].position  // Factory
                ],
                strokeColor: '#ff9800',
                strokeWeight: 3,
                strokeOpacity: 0.5,
                strokeStyle: 'dashed'
            });
            map.add(alternateRoute);

            // Fit bounds to show all markers
            map.setFitView();

            // Add scale control
            map.addControl(new AMap.Scale());

            // Add toolbar control
            map.addControl(new AMap.ToolBar({
                position: {
                    top: '20px',
                    right: '20px'
                }
            }));
        }

        // Helper function to create marker icon with specific color
        function getMarkerIcon(color) {
            // Use SVG for custom colored markers
            const svg = `
                <svg width="32" height="32" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 0C7.58 0 4 3.58 4 8c0 5.25 8 13 8 13s8-7.75 8-13c0-4.42-3.58-8-8-8zm0 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z" 
                          fill="${color}" 
                          stroke="white" 
                          stroke-width="1"/>
                </svg>
            `;
            return 'data:image/svg+xml;base64,' + btoa(svg);
        }

        // Function to focus on specific location
        function focusLocation(index) {
            if (markers[index]) {
                map.setZoomAndCenter(14, locations[index].position);
                // Close all info windows
                infoWindows.forEach(iw => iw.close());
                // Open the selected one
                setTimeout(() => {
                    infoWindows[index].open(map, markers[index].getPosition());
                }, 300);
            }
        }

        // Initialize map when page loads
        window.onload = function() {
            initMap();
        };
    </script>
</body>
</html>

